<!DOCTYPE html>
<html>
   <head>

      <meta charset="UTF-8">
      <meta name="description" content="Interactive Map">
      <meta name="author" content="Spider Cartographers">
      <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />

      <link rel="stylesheet" type="text/css" href="assets/css/style.css"/>

      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js"></script>
      <link href="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css" rel="stylesheet" />
      <script src="https://d3js.org/d3.v5.js"></script>
      <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-analytics.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-database.js"></script>
      <script src="http://jqueryjs.googlecode.com/files/jquery-1.2.6.min.js" type="text/javascript"></script>

   </head>

   <body>

      <!-- MAPBOX GEOCODER FOR SEARCH BAR -->
      <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
      <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css" type="text/css" />

      <body id="map">

         <!-- WELCOME POP UP BOX -->
         <div id="blur_out"></div>
         <div id="popup_box">
            <h1>Welcome!</h1>
            <p>Get ready to explore the transport characteristics of MSOAs in England and Wales! <strong>Double click</strong>
            on an MSOA to view the breakdown of how people in this MSOA commute to work. After selecting an MSOA, <strong>
            toggle the flows switch</strong> to see where people work, and how they get there!</p>
            <a id="popupBoxClose">X</a>
        </div>

        <!-- FLOWS LEGEND -->
        <div id="flowsLegend">
            <img src="assets/images/flowsLegend.png" alt="Flows legend">
        </div>

        <!-- MAP SIDEBAR -->
         <div id="map_sidebar">

            <!-- burger menu -->
            <div class="nav-toggle">
              <div class="nav-toggle-bar"></div>
            </div>
            <nav class="nav">
              <ul>
                <li><a href="index.html">home</a></li>
                <li><a href="story.html">story</a></li>
                <li><a href="interactiveMap.html">map</a></li>
                <li><a href="aboutUs.html">about</a></li>
              </ul>
            </nav>

            <!-- msoa info and chart -->
            <div class='msoaInfo'>
               <div class='msoaInfoText'><strong>MSOA Name:</strong> <span id='msoaName'></span></div>
               <div class='msoaInfoText'><strong>Cluster:</strong> <span id='clusterNumber'></span></div>
               <div class='msoaInfoText'><strong>How do people commute?</strong> <span id='msoaName'></span></div>
               <div class='interactiveChart'>
                  <script type="module" src="assets/scripts/mapBoxChart.js"></script>
               </div>
            </div>

            <!-- cluster console -->
            <div id="clusterConsole">

               <p>Choose clusters:</p>
               <div class="cluster1">
                  <div class="onoffswitchCluster1">
                     <input type="checkbox" name="onoffswitchCluster1" class="onoffswitchCluster1-checkbox" id="myonoffswitchCluster1" checked="checked">
                     <label class="onoffswitchCluster1-label" for="myonoffswitchCluster1"></label>
               </div>
               </div>

               <div class="cluster2">
                  <div class="onoffswitchCluster2">
                     <input type="checkbox" name="onoffswitchCluster2" class="onoffswitchCluster2-checkbox" id="myonoffswitchCluster2" checked="checked">
                     <label class="onoffswitchCluster2-label" for="myonoffswitchCluster2"></label>
               </div>
               </div>

               <div class="cluster3">
                  <div class="onoffswitchCluster3">
                     <input type="checkbox" name="onoffswitchCluster3" class="onoffswitchCluster3-checkbox" id="myonoffswitchCluster3" checked="checked">
                     <label class="onoffswitchCluster3-label" for="myonoffswitchCluster3"></label>
               </div>
               </div>

               <div class="cluster4">
                  <div class="onoffswitchCluster4">
                     <input type="checkbox" name="onoffswitchCluster4" class="onoffswitchCluster4-checkbox" id="myonoffswitchCluster4" checked="checked">
                     <label class="onoffswitchCluster4-label" for="myonoffswitchCluster4"></label>
               </div>
               </div>

               <div class="cluster5">
                  <div class="onoffswitchCluster5">
                     <input type="checkbox" name="onoffswitchCluster5" class="onoffswitchCluster5-checkbox" id="myonoffswitchCluster5" checked="checked">
                     <label class="onoffswitchCluster5-label" for="myonoffswitchCluster5"></label>
               </div>
               </div>

            </div>

            <div id="flowButtonLabel" class='sidebarInstructions' ><p>View flows:</p></div>

            <div class="flowsSwitch">
               <div class="onoffswitchFlows">
                  <input type="checkbox" name="onoffswitchFlows" class="onoffswitchFlows-checkbox" id="myonoffswitchFlows" autocomplete="off">
                  <label class="onoffswitchFlows-label" for="myonoffswitchFlows"></label>
               </div>
            </div>

            <!-- cluster names -->
            <div id='clusternames'>
               <p>High public transport and good accessibility</p>
               <p>Car reliant but high public transport</p>
               <p>Good train accessibility but car dependant</p>
               <p>Soley car dependant</p>
               <p>Lack of accessibility across all transport modes</p>
            </div>

            <!-- data source information -->
            <div class="DataSources">
               <div class ="DataSourcesText">
                  <h4> Data Sources </h4>
                  <a href="https://opendata.arcgis.com/datasets/29fdaa2efced40378ce8173b411aeb0e_2.geojson">ArcGIS.</a>
  <a href="https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/middlesuperoutputareamidyearpopulationestimates"> ONS </a>
  <a href="https://www.ons.gov.uk/employmentandlabourmarket/peopleinwork/earningsandworkinghours/datasets/smallareaincomeestimatesformiddlelayersuperoutputareasenglandandwales"> ONS(2) </a>
  </br>
  <a href="https://www.nomisweb.co.uk/census/2011/quick_statistics"> NOMIS </a>
  <a href="https://www.nomisweb.co.uk/census/2011/bulk/rOD1"> NOMIS (2) </a>
  <a href="https://data.gov.uk/dataset/ff93ffc1-6656-47d8-9155-85ea0b8f2251/national-public-transport-access-nodes-naptan"> GOV.UK </a>
               </div>
            </div>

         </div>

         <!-- map goes here -->
         <div id="map_container"></div>

         <script type="module" src="assets/scripts/map.js"></script>
         <script type="module" src="assets/scripts/welcome_popup.js"></script>
         <script type="module" src="assets/scripts/burgermenu.js"></script>

   </body>
</html>
